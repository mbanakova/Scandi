{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["\"use strict\";\n\n(function () {\n  var phones = document.querySelectorAll('[data-mask]');\n\n  if (phones) {\n    phones.forEach(function (elem) {\n      elem.addEventListener('input', function (event) {\n        showMask(event);\n      });\n    });\n  }\n\n  function showMask(event) {\n    var input = event.target;\n    var mask = input.dataset.mask;\n    var value = input.value;\n    var literalPattern = /[0\\*]/;\n    var numberPattern = /[0-9]/;\n    var newValue = '';\n\n    try {\n      var maskLength = mask.length;\n      var valueIndex = 0;\n      var maskIndex = 0;\n\n      for (; maskIndex < maskLength;) {\n        if (maskIndex >= value.length) {\n          break;\n        }\n\n        if (mask[maskIndex] === '0' && value[valueIndex].match(numberPattern) === null) {\n          break;\n        } // Found a literal\n\n\n        while (mask[maskIndex].match(literalPattern) === null) {\n          if (value[valueIndex] === mask[maskIndex]) {\n            break;\n          }\n\n          newValue += mask[maskIndex++];\n        }\n\n        newValue += value[valueIndex++];\n        maskIndex++;\n      }\n\n      input.value = newValue;\n    } catch (evt) {\n      phones.removeEventListener();\n    }\n  }\n})();\n\nlet slides = document.querySelectorAll('.feedback__item');\nlet inner = document.querySelector('.feedback__inner');\nlet count = 0; // шаг\n\nlet position = 0;\nlet width = 834;\nlet next = document.querySelector('.feedback__button--next');\nlet prev = document.querySelector('.feedback__button--prev');\ncheckBtns();\n\nfunction init() {\n  inner.style.width = width * slides.length + 'px';\n  slides.forEach(slide => {\n    slide.style.width = width + 'px';\n  });\n}\n\ninit();\nprev.addEventListener('click', function () {\n  let itemsLeft = Math.abs(position) / width; // сколько слева\n\n  if (itemsLeft >= 1) {\n    position += width;\n  } else {\n    position += itemsLeft * width;\n  }\n\n  roll();\n  checkBtns();\n});\nnext.addEventListener('click', function () {\n  let itemsLeft = slides.length - (Math.abs(position) + width) / width; // сколько справа\n\n  if (itemsLeft >= 1) {\n    position -= width;\n  } else {\n    position -= itemsLeft * width;\n  }\n\n  roll();\n  checkBtns();\n});\n\nfunction roll() {\n  inner.style.transform = `translateX(${position}px)`;\n}\n\nfunction checkBtns() {\n  prev.disabled = position === 0;\n  next.disabled = position <= -(slides.length - 1) * width;\n}"],"file":"script.js"}